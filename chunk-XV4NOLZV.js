import{A as f,B,C as P,D as w,E as D,F as W,G as M,H as b,I as j,J as X,K as Y,O as Z,Q as ee,R as te,S as k,W as ne,X as L,Y as ie,a as V,b as q,c as $,d as z,e as x,f as J,g as _,h as H,i as d,j as F,k as G,l as K,m as R,n as o,o as h,p as g,q as p,r as t,s as e,t as u,u as Q,v as E,w as S,x as T,y as i,z as l}from"./chunk-63DLPBTZ.js";var y=(()=>{let n=class n{constructor(a){this.http=a,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriespRequest(a){return this.http.get(a).pipe($(()=>V([])))}searchCountryByAlphaCode(a){let s=`${this.apiUrl}/alpha/${a}`;return this.http.get(s).pipe(q(m=>m.length>0?m[0]:null),$(()=>V(null)))}searchCapital(a){let s=`${this.apiUrl}/capital/${a}`;return this.getCountriespRequest(s).pipe(x(m=>this.cacheStore.byCapital={term:a,countries:m}),x(()=>this.saveToLocalStorage()))}searchCountry(a){let s=`${this.apiUrl}/name/${a}`;return this.getCountriespRequest(s).pipe(x(m=>this.cacheStore.byCountries={term:a,countries:m}),x(()=>this.saveToLocalStorage()))}searchRegion(a){let s=`${this.apiUrl}/region/${a}`;return this.getCountriespRequest(s).pipe(x(m=>this.cacheStore.byRegion={region:a,countries:m}),x(()=>this.saveToLocalStorage()))}};n.\u0275fac=function(s){return new(s||n)(H(Y))},n.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function me(r,n){r&1&&(t(0,"div",2),i(1,` No hay pa\xEDses que mostrar
`),e())}var pe=r=>["/countries/by",r];function ue(r,n){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),u(6,"img",5),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),i(12),P(13,"number"),e(),t(14,"td")(15,"a",6),i(16,"Info"),e()()()),r&2){let c=n.$implicit,a=n.index;o(2),l(a+1),o(2),f(" ",c.flag," "),o(2),p("src",c.flags.svg,R)("alt",c.name.common),o(2),l(c.name.common),o(2),l(c.capital),o(2),l(w(13,8,c.population)),o(3),p("routerLink",B(10,pe,c.cca2))}}function de(r,n){if(r&1&&(t(0,"table",3)(1,"thead")(2,"tr")(3,"th"),i(4,"#"),e(),t(5,"th"),i(6,"Icon"),e(),t(7,"th"),i(8,"Bandera"),e(),t(9,"th"),i(10,"Nombre"),e(),t(11,"th"),i(12,"Capital"),e(),t(13,"th"),i(14,"Poblaci\xF3n"),e(),u(15,"th"),e()(),t(16,"tbody"),g(17,ue,17,12,"tr",4),e()()),r&2){let c=S();o(17),p("ngForOf",c.countries)}}var I=(()=>{let n=class n{constructor(){this.countries=[]}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=d({type:n,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],["table",""],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(s,m){if(s&1&&g(0,me,2,0,"div",0)(1,de,18,1,"ng-template",null,1,D),s&2){let v=T(2);p("ngIf",m.countries.length===0)("ngIfElse",v)}},dependencies:[M,b,te,j],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let r=n;return r})();function fe(r,n){r&1&&u(0,"shared-loading-spinner")}var oe=(()=>{let n=class n{constructor(a){this.countriesService=a,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(a){this.isLoading=!0,this.countriesService.searchCapital(a).subscribe(s=>{this.countries=s,this.isLoading=!1})}};n.\u0275fac=function(s){return new(s||n)(h(y))},n.\u0275cmp=d({type:n,selectors:[["countries-by-capital-page"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"initialValue","onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(s,m){s&1&&(t(0,"h2"),i(1,"Por Capital"),e(),u(2,"hr"),t(3,"div",0)(4,"div",1),i(5," B\xFAsquedas "),t(6,"shared-search-box",2),E("onDebounce",function(O){return m.searchByCapital(O)}),e()()(),t(7,"div",0)(8,"div",1),u(9,"hr"),g(10,fe,1,0,"shared-loading-spinner",3),u(11,"countries-table",4),e()()),s&2&&(o(6),p("initialValue",m.initialValue),o(4),p("ngIf",m.isLoading),o(),p("countries",m.countries))},dependencies:[b,ne,L,I]});let r=n;return r})();var re=(()=>{let n=class n{constructor(a){this.countriesService=a,this.countries=[],this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchCountry(a){this.countriesService.searchCountry(a).subscribe(s=>{this.countries=s})}};n.\u0275fac=function(s){return new(s||n)(h(y))},n.\u0275cmp=d({type:n,selectors:[["countries-by-country-page"]],decls:11,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"initialValue","onDebounce"],[3,"countries"]],template:function(s,m){s&1&&(t(0,"h2"),i(1,"Por Pa\xEDs"),e(),u(2,"hr"),t(3,"div",0)(4,"div",1),i(5," B\xFAsquedas "),t(6,"shared-search-box",2),E("onDebounce",function(O){return m.searchCountry(O)}),e()()(),t(7,"div",0)(8,"div",1),u(9,"hr")(10,"countries-table",3),e()()),s&2&&(o(6),p("initialValue",m.initialValue),o(4),p("countries",m.countries))},dependencies:[L,I]});let r=n;return r})();var ge=r=>({"btn-outline-primary":r});function ye(r,n){if(r&1){let c=Q();t(0,"button",4),E("click",function(){let m=G(c).$implicit,v=S();return K(v.searchRegion(m))}),i(1),e()}if(r&2){let c=n.$implicit,a=S();p("ngClass",B(2,ge,a.selectedRegion===c)),o(),f(" ",c," ")}}var ae=(()=>{let n=class n{constructor(a){this.countriesService=a,this.countries=[],this.regions=["Africa","Europe","Americas","Asia","Oceania"]}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchRegion(a){this.selectedRegion=a,this.countriesService.searchRegion(a).subscribe(s=>{this.countries=s})}};n.\u0275fac=function(s){return new(s||n)(h(y))},n.\u0275cmp=d({type:n,selectors:[["countries-by-region-page"]],decls:10,vars:2,consts:[[1,"row"],[1,"col"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"countries"],[1,"btn","mx-2",3,"ngClass","click"]],template:function(s,m){s&1&&(t(0,"h2"),i(1,"Por Regi\xF3n"),e(),u(2,"hr"),t(3,"div",0)(4,"div",1),g(5,ye,2,4,"button",2),e()(),t(6,"div",0)(7,"div",1),u(8,"hr")(9,"countries-table",3),e()()),s&2&&(o(5),p("ngForOf",m.regions),o(4),p("countries",m.countries))},dependencies:[W,M,I]});let r=n;return r})();function ve(r,n){r&1&&(t(0,"div",2),i(1," Espere por favor "),e())}function xe(r,n){if(r&1&&(t(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),i(4,"Pa\xEDs: "),t(5,"strong"),i(6),e()(),u(7,"hr"),e()(),t(8,"div",3)(9,"div",5)(10,"h3"),i(11,"Bandera"),e(),u(12,"img",6),e(),t(13,"div",7)(14,"h3"),i(15,"Informaci\xF3n"),e(),t(16,"ul",8)(17,"li",9)(18,"strong"),i(19,"Poblaci\xF3n:"),e(),i(20),P(21,"number"),e(),t(22,"li",9)(23,"strong"),i(24,"C\xF3digo:"),e(),i(25),e(),t(26,"li",9)(27,"strong"),i(28,"Capital:"),e(),i(29),e(),t(30,"li",9)(31,"strong"),i(32,"Regi\xF3n:"),e(),i(33),e(),t(34,"li",9)(35,"strong"),i(36,"Sub-regi\xF3n:"),e(),i(37),e()()()(),t(38,"div",10)(39,"div",7),u(40,"br"),t(41,"h3"),i(42,"Traducciones"),e(),t(43,"div",11)(44,"span",12),i(45),e(),t(46,"span",12),i(47),e(),t(48,"span",12),i(49),e(),t(50,"span",12),i(51),e(),t(52,"span",12),i(53),e(),t(54,"span",12),i(55),e(),t(56,"span",12),i(57),e(),t(58,"span",12),i(59),e(),t(60,"span",12),i(61),e(),t(62,"span",12),i(63),e(),t(64,"span",12),i(65),e(),t(66,"span",12),i(67),e(),t(68,"span",12),i(69),e(),t(70,"span",12),i(71),e(),t(72,"span",12),i(73),e(),t(74,"span",12),i(75),e(),t(76,"span",12),i(77),e(),t(78,"span",12),i(79),e(),t(80,"span",12),i(81),e(),t(82,"span",12),i(83),e(),t(84,"span",12),i(85),e(),t(86,"span",12),i(87),e(),t(88,"span",12),i(89),e(),t(90,"span",12),i(91),e(),t(92,"span",12),i(93),e(),t(94,"span",12),i(95),e()()()()()),r&2){let c=S();o(6),l(c.country.name.common),o(6),p("src",c.country.flags.svg,R)("alt",c.country.name.common),o(8),f(" ",w(21,34,c.country.population)," "),o(5),f(" ",c.country.cca2," "),o(4),f(" ",c.country.capital," "),o(4),f(" ",c.country.region," "),o(4),f(" ",c.country.subregion," "),o(8),l(c.country.translations.ara.common),o(2),l(c.country.translations.spa.common),o(2),l(c.country.translations.bre.common),o(2),l(c.country.translations.fra.common),o(2),l(c.country.translations.jpn.common),o(2),l(c.country.translations.fin.common),o(2),l(c.country.translations.ces.common),o(2),l(c.country.translations.zho.common),o(2),l(c.country.translations.urd.common),o(2),l(c.country.translations.tur.common),o(2),l(c.country.translations.swe.common),o(2),l(c.country.translations.srp.common),o(2),l(c.country.translations.slk.common),o(2),l(c.country.translations.rus.common),o(2),l(c.country.translations.por.common),o(2),l(c.country.translations.pol.common),o(2),l(c.country.translations.per.common),o(2),l(c.country.translations.nld.common),o(2),l(c.country.translations.kor.common),o(2),l(c.country.translations.ita.common),o(2),l(c.country.translations.hun.common),o(2),l(c.country.translations.hrv.common),o(2),l(c.country.translations.est.common),o(2),l(c.country.translations.deu.common),o(2),l(c.country.translations.cym.common),o(2),l(c.country.translations.ces.common)}}var ce=(()=>{let n=class n{constructor(a,s,m){this.activatedRoute=a,this.countriesService=s,this.router=m}ngOnInit(){this.activatedRoute.params.pipe(z(({id:a})=>this.countriesService.searchCountryByAlphaCode(a))).subscribe(a=>a?this.country=a:this.router.navigateByUrl(""))}};n.\u0275fac=function(s){return new(s||n)(h(Z),h(y),h(ee))},n.\u0275cmp=d({type:n,selectors:[["countries-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(s,m){if(s&1&&g(0,ve,2,0,"ng-template",null,0,D)(2,xe,96,36,"div",1),s&2){let v=T(1);o(2),p("ngIf",m.country)("ngIfElse",v)}},dependencies:[b,j]});let r=n;return r})();var Se=[{path:"by-capital",component:oe},{path:"by-country",component:re},{path:"by-region",component:ae},{path:"by/:id",component:ce},{path:"**",redirectTo:"by-capital"}],se=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=F({type:n}),n.\u0275inj=_({imports:[k.forChild(Se),k]});let r=n;return r})();var Ke=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=F({type:n}),n.\u0275inj=_({imports:[X,se,ie]});let r=n;return r})();export{Ke as CountriesModule};
